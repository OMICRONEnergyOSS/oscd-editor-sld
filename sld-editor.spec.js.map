{"version":3,"file":"sld-editor.spec.js","sourceRoot":"","sources":["../sld-editor.spec.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport { html } from 'lit';\nimport { fixture, expect, aTimeout } from '@open-wc/testing';\n\nimport type { Button } from '@material/mwc-button';\n\nimport { IconButton } from '@material/mwc-icon-button';\nimport { resetMouse, sendMouse } from '@web/test-runner-commands';\nimport { identity } from '@openscd/oscd-scl';\nimport { ListItem } from '@material/mwc-list/mwc-list-item.js';\nimport { XMLEditor } from '@omicronenergy/oscd-editor';\nimport { EditEventV2 } from '@openscd/oscd-api';\nimport { SldSubstationEditor } from './sld-substation-editor.js';\nimport { busSections, makeBusBar, setSLDAttributes } from './util.js';\n\nimport type { SldEditor } from './sld-editor.js';\nimport './sld-editor.js';\n\nfunction middleOf(element: Element): [number, number] {\n    const { x, y, width, height } = element.getBoundingClientRect();\n\n    return [\n        Math.floor(x + window.pageXOffset + width / 2),\n        Math.floor(y + window.pageYOffset + height / 2),\n    ];\n}\n\nfunction sldAttribute(element: Element, attr: string): string | null {\n    const nsp = 'https://openscd.org/SCL/SSD/SLD/v0';\n    return (\n        element\n            .querySelector(\n                ':scope > Private[type=\"OpenSCD-SLD-Layout\"] > SLDAttributes'\n            )\n            ?.getAttributeNS(nsp, attr) ?? null\n    );\n}\n\nexport const emptyDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL version=\"2007\" revision=\"B\" xmlns=\"http://www.iec.ch/61850/2003/SCL\">\n</SCL>`;\n\nexport const voltageLevelDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns:smth=\"https://openscd.org/SCL/SSD/SLD/v0\" xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <smth:SLDAttributes smth:w=\"50\" smth:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\" desc=\"some description\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <smth:SLDAttributes smth:x=\"1\" smth:y=\"1\" smth:lx=\"1\" smth:ly=\"1\" smth:w=\"48\" smth:h=\"23\"/>\n      </Private>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nexport const bayDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\" xmlns:esldoscd=\"https://openscd.org/SCL/SSD/SLD/v0\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <esldoscd:SLDAttributes esldoscd:w=\"50\" esldoscd:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <esldoscd:SLDAttributes esldoscd:x=\"1\" esldoscd:y=\"1\" esldoscd:w=\"13\" esldoscd:h=\"13\" esldoscd:lx=\"1\" esldoscd:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <esldoscd:SLDAttributes esldoscd:x=\"2\" esldoscd:y=\"2\" esldoscd:w=\"3\" esldoscd:h=\"3\" esldoscd:lx=\"2\" esldoscd:ly=\"2\"/>\n        </Private>\n        <ConnectivityNode name=\"L1\" pathName=\"S1/V1/B1/L1\" />\n      </Bay>\n    </VoltageLevel>\n    <VoltageLevel name=\"V2\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <esldoscd:SLDAttributes esldoscd:x=\"15\" esldoscd:y=\"1\" esldoscd:w=\"13\" esldoscd:h=\"13\" esldoscd:lx=\"15\" esldoscd:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <esldoscd:SLDAttributes esldoscd:x=\"20\" esldoscd:y=\"11\" esldoscd:w=\"1\" esldoscd:h=\"1\" esldoscd:lx=\"20\" esldoscd:ly=\"11\"/>\n        </Private>\n      </Bay>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nexport const equipmentDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\" xmlns:esldoscd=\"https://openscd.org/SCL/SSD/SLD/v0\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <esldoscd:SLDAttributes esldoscd:w=\"50\" esldoscd:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <esldoscd:SLDAttributes esldoscd:x=\"1\" esldoscd:y=\"1\" esldoscd:w=\"13\" esldoscd:h=\"13\" esldoscd:lx=\"1\" esldoscd:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <esldoscd:SLDAttributes esldoscd:x=\"2\" esldoscd:y=\"2\" esldoscd:w=\"6\" esldoscd:h=\"6\" esldoscd:lx=\"2\" esldoscd:ly=\"2\"/>\n        </Private>\n        <ConductingEquipment type=\"CBR\" name=\"CBR1\" desc=\"CBR description\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"4\" esldoscd:y=\"4\" esldoscd:rot=\"1\" esldoscd:lx=\"3.5\" esldoscd:ly=\"4\"/>\n          </Private>\n        </ConductingEquipment>\n      </Bay>\n    </VoltageLevel>\n    <VoltageLevel name=\"V2\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <esldoscd:SLDAttributes esldoscd:x=\"15\" esldoscd:y=\"1\" esldoscd:w=\"23\" esldoscd:h=\"23\" esldoscd:lx=\"15\" esldoscd:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <esldoscd:SLDAttributes esldoscd:x=\"16\" esldoscd:y=\"2\" esldoscd:w=\"6\" esldoscd:h=\"6\" esldoscd:lx=\"16\" esldoscd:ly=\"2\"/>\n        </Private>\n        <ConductingEquipment type=\"CTR\" name=\"CTR1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"17\" esldoscd:y=\"5\" esldoscd:rot=\"3\" esldoscd:lx=\"17\" esldoscd:ly=\"7.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"DIS\" name=\"DIS1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"18\" esldoscd:y=\"4\" esldoscd:rot=\"1\" esldoscd:lx=\"17\" esldoscd:ly=\"4.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"NEW\" name=\"NEW1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"19\" esldoscd:y=\"3\" esldoscd:rot=\"2\" esldoscd:lx=\"20\" esldoscd:ly=\"3.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"VTR\" name=\"VTR1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"17\" esldoscd:y=\"3\" esldoscd:rot=\"3\" esldoscd:lx=\"17\" esldoscd:ly=\"3\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"DIS\" name=\"DIS2\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"20\" esldoscd:y=\"4\" esldoscd:rot=\"0\" esldoscd:lx=\"21\" esldoscd:ly=\"5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"BAT\" name=\"BAT1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"19\" esldoscd:y=\"7\" esldoscd:rot=\"3\" esldoscd:lx=\"19\" esldoscd:ly=\"7\"/>\n          </Private>\n          <Terminal name=\"erroneous\"/>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"SMC\" name=\"SMC1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <esldoscd:SLDAttributes esldoscd:x=\"21\" esldoscd:y=\"7\" esldoscd:rot=\"3\" esldoscd:lx=\"22\" esldoscd:ly=\"8\" />\n          </Private>\n        </ConductingEquipment>\n      </Bay>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nfunction getSldSubstationEditor(element: SldEditor): SldSubstationEditor | null | undefined {\n    return element.shadowRoot?.querySelector('sld-substation-editor');\n}\n\ndescribe('SLD Editor', () => {\n    let element: SldEditor;\n    let xmlEditor: XMLEditor;\n    let lastCalledWizard: Element | undefined;\n\n    function queryUI({\n        scl,\n        ui,\n    }:\n        | { scl: string; ui?: undefined }\n        | { ui: string; scl?: undefined }\n        | { scl: string; ui: string }) {\n        let target: {\n            getElementById?: (id: string) => Element | null;\n            querySelector: (sel: string) => Element | null;\n        } =\n            getSldSubstationEditor(element)!.shadowRoot!;\n        if (scl) {\n            const sclTarget = element.doc.querySelector(scl);\n            target = target.getElementById?.(<string>identity(sclTarget))!;\n        }\n        if (ui) {\n            target = target.querySelector(ui)!;\n        }\n        return target as Element;\n    }\n\n    beforeEach(async () => {\n        const doc = new DOMParser().parseFromString(\n            emptyDocString,\n            'application/xml'\n        );\n        // Use the actual editor here so that tests depending on a sequence of changes, still makes sense.\n        xmlEditor = new XMLEditor();\n        element = await fixture(\n            html`<sld-editor\n        docName=\"testDoc\"\n        .doc=${doc}\n        @oscd-edit-v2=${(event: EditEventV2) => {\n                    xmlEditor.commit(event.detail.edit);\n                    element.docVersion += 1;\n                }}\n        @oscd-edit-wizard-request=${({\n                    detail: { element: e },\n                }: CustomEvent<{ element: Element }>) => {\n                    lastCalledWizard = e;\n                }}\n      ></sld-editor>`\n        );\n    });\n\n    afterEach(async () => {\n        lastCalledWizard = undefined;\n        await sendMouse({ type: 'click', position: [0, 0] });\n        await resetMouse();\n    });\n\n    describe('given a substation', () => {\n        let sldSubstationEditor: SldSubstationEditor;\n        beforeEach(async () => {\n            const subSt = element.doc.createElement('Substation');\n            subSt.setAttribute('name', 'S1');\n            setSLDAttributes(subSt, element.nsp, { w: '51', h: '26' });\n            element.doc.documentElement.appendChild(subSt);\n            element.requestUpdate();\n            await element.updateComplete;\n\n            sldSubstationEditor = getSldSubstationEditor(element)!;\n            await sldSubstationEditor.updateComplete;\n        });\n\n        it('adds the SLD XML namespace if doc lacks it', async () => {\n            expect(element.doc.documentElement).to.have.attribute('xmlns:eoscd');\n        });\n\n        it('allows resizing substations', async () => {\n            sldSubstationEditor.shadowRoot\n                ?.querySelector<IconButton>('h2 > mwc-icon-button')\n                ?.click();\n            sldSubstationEditor.substationWidthUI.value = '50';\n            sldSubstationEditor.substationHeightUI.value = '25';\n            sldSubstationEditor.shadowRoot\n                ?.querySelector<Button>('mwc-button[slot=\"primaryAction\"]')\n                ?.click();\n            expect(element).to.have.property('docVersion', 0);\n            sldSubstationEditor.substationWidthUI.value = '1337';\n            sldSubstationEditor.substationHeightUI.value = '42';\n            sldSubstationEditor.shadowRoot\n                ?.querySelector<Button>('mwc-button[slot=\"primaryAction\"]')\n                ?.click();\n            expect(sldAttribute(sldSubstationEditor.substation, 'h')).to.equal('42');\n            expect(sldAttribute(sldSubstationEditor.substation, 'w')).to.equal('1337');\n        });\n\n        it('allows placing a new voltage level', async () => {\n            const newVoltLevel = element.doc.createElement('VoltageLevel');\n            newVoltLevel.setAttribute('name', 'NewVoltLevel');\n            element.startPlacing(newVoltLevel);\n\n            expect(element)\n                .property('placing')\n                .to.have.property('tagName', 'VoltageLevel');\n            await sendMouse({ type: 'click', position: [184, 176] });\n            expect(element).to.have.property('placing', undefined);\n            expect(element)\n                .property('resizingBR')\n                .to.have.property('tagName', 'VoltageLevel');\n            await sendMouse({ type: 'click', position: [390, 395] });\n            expect(element).to.have.property('resizingBR', undefined);\n            const voltLv = element.doc.querySelector('VoltageLevel')!;\n            expect(sldAttribute(voltLv, 'x')).to.equal('5');\n            expect(sldAttribute(voltLv, 'y')).to.equal('3');\n            expect(sldAttribute(voltLv, 'w')).to.equal('7');\n            expect(sldAttribute(voltLv, 'h')).to.equal('8');\n        });\n\n        it('allows the user to abort placing an element', async () => {\n            const newVoltLevel = element.doc.createElement('VoltageLevel');\n            newVoltLevel.setAttribute('name', 'NewVoltLevel');\n            element.startPlacing(newVoltLevel);\n\n            expect(element)\n                .property('placing')\n                .to.have.property('tagName', 'VoltageLevel');\n            const event = new KeyboardEvent('keydown', { key: 'Escape' });\n            window.dispatchEvent(event);\n            expect(element).to.have.property('placing', undefined);\n        });\n    });\n\n    describe('given a voltage level', () => {\n        let sldSubstationEditor: SldSubstationEditor;\n        beforeEach(async () => {\n            const doc = new DOMParser().parseFromString(\n                voltageLevelDocString,\n                'application/xml'\n            );\n            element.doc = doc;\n            await element.updateComplete;\n            sldSubstationEditor = getSldSubstationEditor(element)!;\n            await sldSubstationEditor.updateComplete;\n        });\n\n        it('forbids undersizing the substation', async () => {\n            sldSubstationEditor.shadowRoot\n                ?.querySelector<IconButton>('h2 > mwc-icon-button')\n                ?.click();\n            sldSubstationEditor.substationWidthUI.value = '30';\n            sldSubstationEditor.substationHeightUI.value = '20';\n            sldSubstationEditor.shadowRoot\n                ?.querySelector<Button>('mwc-button[slot=\"primaryAction\"]')\n                ?.click();\n            expect(sldAttribute(sldSubstationEditor.substation, 'h')).to.equal('25');\n            expect(sldAttribute(sldSubstationEditor.substation, 'w')).to.equal('50');\n        });\n\n\n        it('allows resizing voltage levels', async () => {\n            const moveHandle =\n                sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>('.handle')[1];\n            moveHandle.dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('resizingBR')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.resizingBR!;\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('48');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('23');\n            await sendMouse({ type: 'click', position: [284, 290] });\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('8');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('7');\n        });\n\n        it('moves voltage levels on move handle click', async () => {\n            // Click on voltage level to start placing/moving\n            await sendMouse({ type: 'click', position: [100 - 16, 180 - 76] });\n            expect(element)\n                .property('placing')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.placing!;\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('1');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('1');\n            // Click to place at new position (moved right and down)\n            await sendMouse({ type: 'click', position: [132 - 16, 202 - 76] });\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('2');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('2');\n        });\n\n        it('opens a menu on voltage level right click', async () => {\n            queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            expect(queryUI({ ui: 'menu' })).to.exist;\n            await expect(queryUI({ ui: 'menu' })).dom.to.equalSnapshot();\n        });\n\n        it('resizes voltage levels on resize menu item select', async () => {\n            queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            const item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(2)'\n            )!;\n            item.selected = true;\n            await element.updateComplete;\n            expect(element)\n                .property('resizingBR')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.resizingBR!;\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('48');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('23');\n            await sendMouse({ type: 'click', position: [300 - 16, 352 - 72] });\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('8');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('7');\n        });\n\n        it('moves voltage levels on move menu item select', async () => {\n            const voltageRect = queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            });\n\n            // Move mouse to voltage level position [1,1] to establish coordinates\n            await sendMouse({ type: 'move', position: [64 - 16, 164 - 72] });\n            await element.updateComplete;\n\n            // Open context menu\n            voltageRect.dispatchEvent(\n                new PointerEvent('contextmenu', {\n                    bubbles: true,\n                    composed: true,\n                })\n            );\n            await element.updateComplete;\n\n            // Select \"Move\" menu item\n            const item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(4)'\n            )!;\n            item.selected = true;\n            await sldSubstationEditor.updateComplete;\n\n            expect(element)\n                .property('placing')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.placing!;\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('1');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('1');\n\n            // Click to place at [2,2]\n            await sendMouse({ type: 'click', position: [96 - 16, 196 - 72] });\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('2');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('2');\n        });\n\n        it('requests voltage level edit wizard on edit menu item select', async () => {\n            queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(2)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n            expect(lastCalledWizard).to.equal(\n                element.doc.querySelector('VoltageLevel')\n            );\n        });\n\n        it('moves the voltage level label on \"move label\" menu item select', async () => {\n            queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(4)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n            expect(element)\n                .property('placingLabel')\n                .to.have.property('tagName', 'VoltageLevel');\n            await sendMouse({ type: 'click', position: [200 - 16, 252 - 76] });\n            const voltageLevel = element.doc.querySelector('VoltageLevel')!;\n            expect(sldAttribute(voltageLevel, 'lx')).to.equal('5');\n            expect(sldAttribute(voltageLevel, 'ly')).to.equal('4.5');\n        });\n\n        it('forbids moving voltage levels out of bounds', async () => {\n            queryUI({\n                scl: 'VoltageLevel',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('placing')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.placing!;\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('1');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('1');\n            await sendMouse({ type: 'click', position: [200 - 16, 252 - 76] });\n            expect(sldAttribute(voltageLevel, 'x')).to.equal('1');\n            expect(sldAttribute(voltageLevel, 'y')).to.equal('1');\n        });\n\n        it('moves the voltage level label on label left click', async () => {\n            // Click on label to start placing/moving it\n            queryUI({ ui: '.label text' }).dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('placingLabel')\n                .to.have.property('tagName', 'VoltageLevel');\n            // Click to place label at position [5, 4.5]\n            await sendMouse({ type: 'click', position: [144 - 16, 244 - 76] });\n            const voltageLevel = element.doc.querySelector('VoltageLevel')!;\n            expect(sldAttribute(voltageLevel, 'lx')).to.equal('5');\n            expect(sldAttribute(voltageLevel, 'ly')).to.equal('4.5');\n        });\n\n        it('requests a voltage level edit wizard on label middle click', async () => {\n            queryUI({ ui: '.label text' }).dispatchEvent(\n                new PointerEvent('auxclick', { button: 1 })\n            );\n            expect(lastCalledWizard).to.equal(\n                element.doc.querySelector('VoltageLevel')\n            );\n        });\n\n        it('allows placing a new bay', async () => {\n            const newBay = element.doc.createElement('Bay');\n            newBay.setAttribute('name', 'NewBay');\n            element.startPlacing(newBay);\n\n            expect(element).property('placing').to.have.property('tagName', 'Bay');\n            await sendMouse({ type: 'click', position: [200 - 16, 252 - 76] });\n            await aTimeout(10); // Wait for possible async operations\n            expect(element).to.have.property('placing', undefined);\n            expect(element).property('resizingBR').to.have.property('tagName', 'Bay');\n            await sendMouse({ type: 'click', position: [400 - 16, 470 - 76] });\n            expect(sldSubstationEditor).to.have.property('resizingBR', undefined);\n            const bay = element.doc.querySelector('Bay')!;\n            expect(bay).to.exist;\n            expect(sldAttribute(bay, 'x')).to.equal('5');\n            expect(sldAttribute(bay, 'y')).to.equal('3');\n            expect(sldAttribute(bay, 'w')).to.equal('7');\n            expect(sldAttribute(bay, 'h')).to.equal('8');\n        });\n\n        it('allows placing a new bus bar', async () => {\n            const busBar = makeBusBar(element.doc, element.nsp);\n            element.startPlacing(busBar);\n\n            expect(element).property('placing').to.have.property('tagName', 'Bay');\n            await sendMouse({ type: 'click', position: [200 - 16, 252 - 76] });\n            expect(element).to.have.property('placing', undefined);\n            expect(element).property('resizingBR').to.have.property('tagName', 'Bay');\n            await sendMouse({ type: 'click', position: [400 - 16, 452 - 76] });\n            expect(sldSubstationEditor).to.have.property('resizingBR', undefined);\n            const bus = element.doc.querySelector('Bay');\n            expect(bus).to.exist;\n            expect(sldAttribute(bus!, 'x')).to.equal('5');\n            expect(sldAttribute(bus!, 'y')).to.equal('3');\n            expect(sldAttribute(bus!, 'w')).to.equal('1');\n            expect(sldAttribute(bus!, 'h')).to.equal('8');\n            await expect(bus).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n    });\n\n    describe('given a bay', () => {\n        let sldSubstationEditor: SldSubstationEditor;\n        beforeEach(async () => {\n            const doc = new DOMParser().parseFromString(\n                bayDocString,\n                'application/xml'\n            );\n            element.doc = doc;\n            await element.updateComplete;\n            sldSubstationEditor = getSldSubstationEditor(element)!;\n            await sldSubstationEditor.updateComplete;\n        });\n\n        it('allows resizing bays', async () => {\n            const moveHandle =\n                sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>('g.bay .handle')[1];\n            moveHandle.dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('resizingBR')\n                .to.exist.and.to.have.property('tagName', 'Bay');\n            const bay = element.resizingBR!;\n            expect(sldAttribute(bay, 'w')).to.equal('3');\n            expect(sldAttribute(bay, 'h')).to.equal('3');\n            await sendMouse({ type: 'click', position: [384 - 16, 516 - 120] });\n            expect(sldAttribute(bay!, 'w')).to.equal('10');\n            expect(sldAttribute(bay, 'h')).to.equal('9');\n        });\n\n        it('opens a menu on bay right click', async () => {\n            queryUI({\n                scl: 'Bay',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            expect(queryUI({ ui: 'menu' })).to.exist;\n        });\n\n        it('requests bay edit wizard on edit menu item select', async () => {\n            queryUI({\n                scl: 'Bay',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(2)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n            expect(lastCalledWizard).to.equal(element.doc.querySelector('Bay'));\n        });\n\n        it('forbids resizing bays out of bounds', async () => {\n            const moveHandle =\n                sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>('g.bay .handle')[1];\n            moveHandle.dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('resizingBR')\n                .to.exist.and.to.have.property('tagName', 'Bay');\n            const bay = element.resizingBR!;\n            expect(sldAttribute(bay, 'w')).to.equal('3');\n            expect(sldAttribute(bay, 'h')).to.equal('3');\n            await sendMouse({ type: 'click', position: [600, 452] });\n            expect(sldAttribute(bay, 'w')).to.equal('3');\n            expect(sldAttribute(bay, 'h')).to.equal('3');\n        });\n\n        it('forbids undersizing voltage levels containing bays', async () => {\n            const moveHandle = sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>(\n                'g.voltagelevel > .handle'\n            )[1];\n            moveHandle.dispatchEvent(new PointerEvent('click'));\n            expect(element)\n                .property('resizingBR')\n                .to.exist.and.to.have.property('tagName', 'VoltageLevel');\n            const voltageLevel = element.resizingBR!;\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('13');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('13');\n            await sendMouse({ type: 'click', position: [100, 152] });\n            expect(sldAttribute(voltageLevel, 'w')).to.equal('13');\n            expect(sldAttribute(voltageLevel, 'h')).to.equal('13');\n        });\n\n        it('moves bays on move handle click', async () => {\n            const bayElement = element.doc.querySelector('Bay')!;\n            const currentX = parseInt(sldAttribute(bayElement, 'x')!, 10);\n            const currentY = parseInt(sldAttribute(bayElement, 'y')!, 10);\n\n            // Move mouse to bay position to establish offset\n            await sendMouse({\n                type: 'move',\n                position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n            });\n            await element.updateComplete;\n\n            // Use contextmenu approach for bay movement\n            queryUI({ scl: 'Bay', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu', { bubbles: true, composed: true })\n            );\n            await element.updateComplete;\n\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(4)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n\n            expect(element)\n                .property('placing')\n                .to.exist.and.to.have.property('tagName', 'Bay');\n            const bay = element.placing!;\n            // Click to place at new position [4,3] using equipment context formula\n            await sendMouse({ type: 'click', position: [160 - 16, 292 - 76] });\n            expect(sldAttribute(bay, 'x')).to.equal('4');\n            expect(sldAttribute(bay, 'y')).to.equal('3');\n        });\n\n        it('renames reparented bays if necessary', async () => {\n            const bayElement = element.doc.querySelector('Bay')!;\n            const currentX = parseInt(sldAttribute(bayElement, 'x')!, 10);\n            const currentY = parseInt(sldAttribute(bayElement, 'y')!, 10);\n\n            // Move mouse to bay position to establish offset\n            await sendMouse({\n                type: 'move',\n                position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n            });\n            await element.updateComplete;\n\n            queryUI({ scl: 'Bay', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('click')\n            );\n            const bay = element.placing!;\n            expect(bay.parentElement).to.have.attribute('name', 'V1');\n            expect(bay).to.have.attribute('name', 'B1');\n            await sendMouse({ type: 'click', position: [608 - 16, 292 - 76] });\n            expect(element).to.have.property('placing', undefined);\n            expect(sldAttribute(bay, 'x')).to.equal('18');\n            expect(sldAttribute(bay, 'y')).to.equal('3');\n            expect(bay.parentElement).to.have.attribute('name', 'V2');\n            expect(bay).to.have.attribute('name', 'B2');\n            queryUI({ scl: 'Bay', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('click')\n            );\n            await sendMouse({ type: 'click', position: [192 - 16, 292 - 76] });\n            expect(sldAttribute(bay, 'x')).to.equal('5');\n            expect(sldAttribute(bay, 'y')).to.equal('3');\n            expect(bay.parentElement).to.have.attribute('name', 'V1');\n            expect(bay).to.have.attribute('name', 'B2');\n        });\n\n        it(\"updates reparented bays' connectivity node paths\", async () => {\n            const bayElement = element.doc.querySelector('Bay')!;\n            const currentX = parseInt(sldAttribute(bayElement, 'x')!, 10);\n            const currentY = parseInt(sldAttribute(bayElement, 'y')!, 10);\n\n            // Move mouse to bay position to establish offset\n            await sendMouse({\n                type: 'move',\n                position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n            });\n            await element.updateComplete;\n\n            queryUI({ scl: 'Bay', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('click')\n            );\n            const bay = element.placing!;\n            const cNode = bay.querySelector('ConnectivityNode')!;\n            expect(cNode).to.have.attribute('pathName', 'S1/V1/B1/L1');\n            await sendMouse({ type: 'click', position: [608 - 16, 292 - 76] });\n            expect(element).to.have.property('placing', undefined);\n            expect(cNode).to.have.attribute('pathName', 'S1/V2/B2/L1');\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        it('moves a bay when its parent voltage level is moved', async () => {\n            // const voltageLevel = element.doc.querySelector('VoltageLevel')!;\n            await sendMouse({ type: 'click', position: [70 - 16, 250 - 76] });\n            const bay = element.placing!.querySelector('Bay')!;\n            expect(sldAttribute(bay, 'x')).to.equal('2');\n            expect(sldAttribute(bay, 'y')).to.equal('2');\n            await sendMouse({\n                type: 'click',\n                position: [100 - 16, 220 - 76],\n            });\n            expect(sldAttribute(bay, 'x')).to.equal('3');\n            expect(sldAttribute(bay, 'y')).to.equal('1');\n        });\n\n        it('allows placing new conducting equipment', async () => {\n            const condEq = element.doc.createElement('ConductingEquipment');\n            condEq.setAttribute('type', 'GEN');\n            condEq.setAttribute('name', 'GEN1');\n            element.startPlacing(condEq);\n\n            expect(element)\n                .property('placing')\n                .to.have.property('tagName', 'ConductingEquipment');\n            await sendMouse({ type: 'click', position: [160 - 16, 324 - 120] });\n            expect(element).to.have.property('placing', undefined);\n            expect(element).to.have.property('resizingBR', undefined);\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            expect(equipment).to.exist;\n            expect(sldAttribute(equipment!, 'x')).to.equal('4');\n            expect(sldAttribute(equipment!, 'y')).to.equal('4');\n        });\n\n        describe('with a sibling bus bar', () => {\n            beforeEach(async () => {\n                const busBar = makeBusBar(element.doc, element.nsp);\n                element.startPlacing(busBar);\n\n                await sendMouse({ type: 'click', position: [200 - 16, 244 - 76] });\n                await sendMouse({ type: 'click', position: [400 - 16, 468 - 76] });\n            });\n\n\n            it('allows the bay to overlap its sibling bus bar', async () => {\n                const moveHandle =\n                    sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>(\n                        'g.bay .handle'\n                    )[1];\n                moveHandle.dispatchEvent(new PointerEvent('click'));\n                expect(element)\n                    .property('resizingBR')\n                    .to.exist.and.to.have.property('tagName', 'Bay');\n                const bay = element.resizingBR!;\n                expect(sldAttribute(bay, 'w')).to.equal('3');\n                expect(sldAttribute(bay, 'h')).to.equal('3');\n                await sendMouse({ type: 'click', position: [384 - 16, 516 - 120] });\n                expect(sldAttribute(bay, 'w')).to.equal('10');\n                expect(sldAttribute(bay, 'h')).to.equal('9');\n            });\n\n            it('moves the bus bar on left click', async () => {\n                const bus = element.doc.querySelector('[name=\"BB1\"]');\n                expect(sldAttribute(bus!, 'x')).to.equal('5');\n\n                // Move mouse to current bus position to establish offset\n                const currentX = parseInt(sldAttribute(bus!, 'x')!, 10);\n                const currentY = parseInt(sldAttribute(bus!, 'y')!, 10);\n                await sendMouse({\n                    type: 'move',\n                    position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n                });\n                await element.updateComplete;\n\n                // Use contextmenu approach for bus bar movement\n                queryUI({ scl: '[name=\"L\"]', ui: 'line:not([stroke])' }).dispatchEvent(\n                    new PointerEvent('contextmenu', { bubbles: true, composed: true })\n                );\n                await element.updateComplete;\n\n                sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                    'mwc-list-item:nth-of-type(3)'\n                )!.selected = true;\n                await sldSubstationEditor.updateComplete;\n\n                await sendMouse({ type: 'click', position: [128 - 16, 260 - 76] });\n                expect(sldAttribute(bus!, 'x')).to.equal('3');\n            });\n\n            it('resizes the bus bar on middle mouse button click', async () => {\n                const bus = element.doc.querySelector('[name=\"BB1\"]');\n                const currentX = parseInt(sldAttribute(bus!, 'x')!, 10);\n                const currentY = parseInt(sldAttribute(bus!, 'y')!, 10);\n\n                // Move mouse to bus bar position to establish offset\n                await sendMouse({\n                    type: 'move',\n                    position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n                });\n                await element.updateComplete;\n\n                // Use contextmenu approach for bus bar resize instead of middle click\n                queryUI({ scl: '[name=\"L\"]', ui: 'line:not([stroke])' }).dispatchEvent(\n                    new PointerEvent('contextmenu', { bubbles: true, composed: true })\n                );\n                await element.updateComplete;\n\n                sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                    'mwc-list-item:nth-of-type(2)'\n                )!.selected = true;\n                await sldSubstationEditor.updateComplete;\n\n                expect(sldAttribute(bus!, 'w')).to.equal('1');\n                expect(sldAttribute(bus!, 'h')).to.equal('8');\n                await sendMouse({ type: 'click', position: [272 - 16, 260 - 76] });\n                expect(sldAttribute(bus!, 'w')).to.equal('3');\n                expect(sldAttribute(bus!, 'h')).to.equal('1');\n            });\n        });\n    });\n\n    describe('given conducting equipment', () => {\n        let sldSubstationEditor: SldSubstationEditor;\n        beforeEach(async () => {\n            const doc = new DOMParser().parseFromString(\n                equipmentDocString,\n                'application/xml'\n            );\n            element.doc = doc;\n            await element.updateComplete;\n            sldSubstationEditor = getSldSubstationEditor(element)!;\n            await sldSubstationEditor.updateComplete;\n        });\n\n        it('requests equipment edit wizard on edit menu item select', async () => {\n            queryUI({\n                scl: '[type=\"SMC\"]',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(2)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n            expect(lastCalledWizard).to.equal(\n                element.doc.querySelector('[type=\"SMC\"]')\n            );\n        });\n\n        it('moves the equipment label on \"move label\" menu item select', async () => {\n            queryUI({\n                scl: 'ConductingEquipment',\n                ui: 'rect',\n            }).dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(4)'\n            )!.selected = true;\n            await sldSubstationEditor.updateComplete;\n            expect(element)\n                .property('placingLabel')\n                .to.have.property('tagName', 'ConductingEquipment');\n            await sendMouse({ type: 'click', position: [200 - 16, 308 - 125] });\n            const condEq = element.doc.querySelector('ConductingEquipment')!;\n            expect(sldAttribute(condEq, 'lx')).to.equal('5');\n            expect(sldAttribute(condEq, 'ly')).to.equal('4.5');\n        });\n\n        it('moves equipment on left mouse button click', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            // Click on equipment to start placing/moving\n            await sendMouse({ type: 'click', position: [150 - 16, 230 - 76] });\n            // Click to place at new position (moved left -1, up -1 grid units)\n            await sendMouse({ type: 'click', position: [118 - 16, 198 - 76] });\n            expect(sldAttribute(equipment!, 'x')).to.equal('3');\n            expect(sldAttribute(equipment!, 'y')).to.equal('3');\n        });\n\n        it('copies equipment on shift click', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const id = identity(equipment);\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n            eqClickTarget.dispatchEvent(\n                new PointerEvent('click', { shiftKey: true })\n            );\n            expect(\n                element.doc.querySelector(\n                    'ConductingEquipment>Private>SLDAttributes[*|x=\"3\"][*|y=\"3\"]'\n                )\n            ).to.not.exist;\n            await sendMouse({ type: 'click', position: [128 - 16, 292 - 120] });\n            const newCondEqSld = element.doc.querySelector(\n                'ConductingEquipment>Private>SLDAttributes[*|x=\"3\"][*|y=\"3\"]'\n            );\n            const newCondEq = newCondEqSld?.parentElement?.parentElement;\n            expect(newCondEq).to.exist;\n            expect(newCondEq).to.exist.and.have.attribute(\n                'type',\n                equipment!.getAttribute('type')!\n            );\n            expect(sldAttribute(equipment!, 'x')).to.equal('4');\n            expect(sldAttribute(equipment!, 'y')).to.equal('4');\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        it('rotates equipment on middle mouse button click', () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const id = identity(equipment);\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n            expect(sldAttribute(equipment!, 'rot')).to.equal('1');\n            eqClickTarget.dispatchEvent(new PointerEvent('auxclick', { button: 1 }));\n            expect(sldAttribute(equipment!, 'rot')).to.equal('2');\n        });\n\n        it('opens a menu on equipment right click', async () => {\n            queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu', { clientX: 750, clientY: 550 })\n            );\n            await element.updateComplete;\n            expect(queryUI({ ui: 'menu' })).to.exist;\n            await expect(queryUI({ ui: 'menu' })).dom.to.equalSnapshot();\n        });\n\n        it('flips equipment on mirror menu item select', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const id = identity(equipment);\n            let eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            let item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(6)'\n            )!;\n            expect(equipment).to.not.have.attribute('esldoscd:flip');\n            item.selected = true;\n            await element.updateComplete;\n            item.selected = false;\n            expect(sldAttribute(equipment!, 'flip')).to.equal('true');\n            eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(6)'\n            )!;\n            item.selected = true;\n            await element.updateComplete;\n            expect(equipment).to.not.have.attribute('esldoscd:flip');\n        });\n\n        it('rotates equipment on rotate menu item select', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const id = identity(equipment);\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            const item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(7)'\n            )!;\n            expect(sldAttribute(equipment!, 'rot')).to.equal('1');\n            item.selected = true;\n            await element.updateComplete;\n            expect(sldAttribute(equipment!, 'rot')).to.equal('2');\n        });\n\n        it('moves equipment on move menu item select', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const id = identity(equipment);\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>id)!\n                .querySelector('rect')!;\n\n            // Try to find coordinates that give [4,4]\n            // Equipment tests showed [160,260]  [4,2], so Y is off by 2\n            // Try adding 64 to Y: [160, 324]\n            await sendMouse({ type: 'move', position: [160 - 16, 324 - 76] });\n            await element.updateComplete;\n\n            // Open context menu\n            eqClickTarget.dispatchEvent(\n                new PointerEvent('contextmenu', {\n                    bubbles: true,\n                    composed: true,\n                })\n            );\n            await element.updateComplete;\n\n            // Select \"Move\" menu item (5th from end)\n            const item = sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-last-of-type(5)'\n            )!;\n            item.selected = true;\n            await element.updateComplete;\n\n            expect(sldAttribute(equipment!, 'x')).to.equal('4');\n            expect(sldAttribute(equipment!, 'y')).to.equal('4');\n\n            // Click to place at [3,3] - try [128, 292] (adding 64 to Y)\n            await sendMouse({ type: 'move', position: [128 - 16, 292 - 76] });\n            await sendMouse({ type: 'click', position: [128 - 16, 292 - 120] });\n            expect(sldAttribute(equipment!, 'x')).to.equal('3');\n            expect(sldAttribute(equipment!, 'y')).to.equal('3');\n        });\n\n        it('grounds equipment on connection point right click', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment')!;\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>identity(equipment))!\n                .querySelector('circle')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('contextmenu'));\n            expect(element.doc.querySelector('ConnectivityNode[name=\"grounded\"]')).to\n                .exist;\n            expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.have.attribute(\n                'cNodeName',\n                'grounded'\n            );\n            await element.updateComplete;\n            await aTimeout(10);\n            const eqClickTarget2 = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>identity(equipment))!\n                .querySelector('circle')!;\n            eqClickTarget2.dispatchEvent(new PointerEvent('contextmenu'));\n            expect(element.doc.querySelector('ConnectivityNode[name=\"grounded\"]')).to\n                .exist;\n            expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.have.attribute(\n                'cNodeName',\n                'grounded'\n            );\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        it('grounds equipment on ground menu item select', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment')!;\n            queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            expect(\n                equipment.querySelector('Terminal[name=\"T1\"][cNodeName=\"grounded\"]')\n            ).to.not.exist;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(3)'\n            )!.selected = true;\n            await element.updateComplete;\n            expect(\n                equipment.querySelector('Terminal[name=\"T1\"][cNodeName=\"grounded\"]')\n            ).to.exist;\n            queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            expect(\n                equipment.querySelector('Terminal[name=\"T2\"][cNodeName=\"grounded\"]')\n            ).to.not.exist;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(4)'\n            )!.selected = true;\n            await element.updateComplete;\n            expect(\n                equipment.querySelector('Terminal[name=\"T2\"][cNodeName=\"grounded\"]')\n            ).to.exist;\n        });\n\n        it('connects equipment on connection point and equipment click', async () => {\n            const equipment = element.doc.querySelectorAll('ConductingEquipment')[0];\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>identity(equipment))!\n                .querySelector('circle:nth-of-type(2)')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('click'));\n            await element.updateComplete;\n            const equipment2 = element.doc.querySelectorAll('ConductingEquipment')[1];\n            const eq2ClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                <string>identity(equipment2)\n            )!;\n            const position = middleOf(eq2ClickTarget);\n            position[0] -= 1;\n            expect(element.doc.querySelector('ConnectivityNode')).to.not.exist;\n            await sendMouse({ type: 'click', position });\n            expect(element.doc.querySelector('ConnectivityNode')).to.exist;\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        it('connects equipment on connect menu item select', async () => {\n            let equipment = element.doc.querySelector('ConductingEquipment')!;\n            queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(2)'\n            )!.selected = true;\n            expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.not.exist;\n            let position = middleOf(queryUI({ scl: '[type=\"VTR\"]', ui: 'rect' }));\n            position[1] -= 1;\n            await sendMouse({ type: 'click', position });\n            expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.exist;\n\n            queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(3)'\n            )!.selected = true;\n            expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.not.exist;\n            position = middleOf(queryUI({ scl: '[type=\"NEW\"]', ui: 'rect' }));\n            position[1] -= 1;\n            await sendMouse({ type: 'click', position });\n            expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.exist;\n\n            equipment = element.doc.querySelector('[type=\"DIS\"]')!;\n            queryUI({ scl: '[type=\"DIS\"]', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(2)'\n            )!.selected = true;\n            expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.not.exist;\n            position = middleOf(queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }));\n            await sendMouse({ type: 'click', position });\n            expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.exist;\n\n            queryUI({ scl: '[type=\"DIS\"]', ui: 'rect' }).dispatchEvent(\n                new PointerEvent('contextmenu')\n            );\n            await element.updateComplete;\n            sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                'mwc-list-item:nth-of-type(3)'\n            )!.selected = true;\n            expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.not.exist;\n            position = middleOf(queryUI({ scl: '[name=\"DIS2\"]', ui: 'rect' }));\n            position[1] += 1;\n            await sendMouse({ type: 'click', position });\n            expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.exist;\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        it('will not connect equipment directly to itself', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>identity(equipment))!\n                .querySelector('circle:nth-of-type(1)')!;\n            eqClickTarget.dispatchEvent(new PointerEvent('click'));\n            await element.updateComplete;\n            const eq2ClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                <string>identity(equipment)\n            )!;\n            const position = middleOf(eq2ClickTarget);\n            expect(element.doc.querySelector('ConnectivityNode')).to.not.exist;\n            await sendMouse({ type: 'click', position });\n            expect(element.doc.querySelector('ConnectivityNode')).to.not.exist;\n        });\n\n        it('retargets grounded terminals when reparenting equipment', async () => {\n            const equipment = element.doc.querySelector('ConductingEquipment');\n            const eqClickTarget = sldSubstationEditor\n                .shadowRoot!.getElementById(<string>identity(equipment))!\n                .querySelector('circle:nth-of-type(2)')!;\n            expect(\n                element.doc.querySelectorAll('ConnectivityNode[name=\"grounded\"]')\n            ).to.have.lengthOf(0);\n            eqClickTarget.dispatchEvent(new PointerEvent('contextmenu'));\n            await element.updateComplete;\n            expect(\n                element.doc.querySelectorAll('ConnectivityNode[name=\"grounded\"]')\n            ).to.have.lengthOf(1);\n            const position = middleOf(\n                queryUI({ scl: 'ConductingEquipment', ui: 'rect' })\n            );\n            await sendMouse({ type: 'click', position });\n            await sendMouse({\n                type: 'click',\n                position: middleOf(queryUI({ scl: '[name=\"V2\"] Bay', ui: 'rect' })),\n            });\n            expect(\n                element.doc.querySelectorAll('ConnectivityNode[name=\"grounded\"]')\n            ).to.have.lengthOf(2);\n            await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                ignoreAttributes: ['esldoscd:uuid'],\n            });\n        });\n\n        describe('with established connectivity', () => {\n            beforeEach(async () => {\n                const equipment = element.doc.querySelector('ConductingEquipment');\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                eqClickTarget.dispatchEvent(new PointerEvent('click'));\n                await element.updateComplete;\n                const equipment2 = element.doc.querySelector(\n                    'ConductingEquipment[type=\"DIS\"]'\n                );\n                const eq2ClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                    <string>identity(equipment2)\n                )!;\n                const position = middleOf(eq2ClickTarget);\n                position[0] -= 1;\n                await sendMouse({ type: 'click', position });\n            });\n\n            it('uniquely names new connectivity nodes', async () => {\n                const equipment = element.doc.querySelector('ConductingEquipment');\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                eqClickTarget.dispatchEvent(new PointerEvent('click'));\n                await element.updateComplete;\n                const equipment2 = element.doc.querySelector(\n                    'ConductingEquipment[type=\"CTR\"]'\n                );\n                const eq2ClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                    <string>identity(equipment2)\n                )!;\n                const position = middleOf(eq2ClickTarget);\n                position[0] -= 1;\n                expect(element.doc.querySelector('ConnectivityNode[name=\"L1\"]')).to\n                    .exist;\n                expect(element.doc.querySelector('ConnectivityNode[name=\"L2\"]')).to.not\n                    .exist;\n                await sendMouse({ type: 'click', position });\n                expect(element.doc.querySelector('ConnectivityNode[name=\"L2\"]')).to\n                    .exist;\n                await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                    ignoreAttributes: ['esldoscd:uuid'],\n                });\n            });\n\n            it('connects equipment on connection point and connectivity node click', async () => {\n                const equipment = element.doc.querySelector(\n                    'ConductingEquipment[type=\"CTR\"]'\n                );\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                eqClickTarget.dispatchEvent(new PointerEvent('click'));\n                const cNode = element.doc.querySelector('ConnectivityNode');\n                const cNodeClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                    <string>identity(cNode)\n                )!;\n                await sendMouse({\n                    type: 'click',\n                    position: middleOf(cNodeClickTarget),\n                });\n                expect(\n                    equipment!.querySelector('Terminal')\n                ).to.exist.and.to.have.attribute(\n                    'connectivityNode',\n                    cNode!.getAttribute('pathName')!\n                );\n                await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                    ignoreAttributes: ['esldoscd:uuid'],\n                });\n            });\n\n            it('avoids short circuit connections', async () => {\n                const equipment = element.doc.querySelector(\n                    'ConductingEquipment[type=\"DIS\"]'\n                );\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                eqClickTarget.dispatchEvent(new PointerEvent('click'));\n                const cNode = element.doc.querySelector('ConnectivityNode');\n                const cNodeClickTarget = sldSubstationEditor.shadowRoot!.getElementById(\n                    <string>identity(cNode)\n                )!;\n                expect(equipment!.querySelectorAll('Terminal')).to.have.lengthOf(1);\n                await sendMouse({\n                    type: 'click',\n                    position: middleOf(cNodeClickTarget),\n                });\n                expect(equipment!.querySelectorAll('Terminal')).to.have.lengthOf(1);\n                await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                    ignoreAttributes: ['esldoscd:uuid'],\n                });\n            });\n\n            it('keeps connection paths simple', async () => {\n                const equipment = element.doc.querySelector(\n                    'ConductingEquipment[type=\"CTR\"]'\n                );\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                eqClickTarget.dispatchEvent(new PointerEvent('click'));\n                await sendMouse({ type: 'click', position: [400 - 16, 352 - 120] });\n                await sendMouse({ type: 'click', position: [350 - 16, 352 - 120] });\n                await sendMouse({ type: 'click', position: [300 - 16, 302 - 120] });\n                await sendMouse({ type: 'click', position: [300 - 16, 320 - 120] });\n                const equipment2 = element.doc.querySelector(\n                    'ConductingEquipment[type=\"NEW\"]'\n                );\n                const eq2ClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment2))!\n                    .querySelector('circle')!;\n                eq2ClickTarget.dispatchEvent(new PointerEvent('click'));\n                await sendMouse({ type: 'click', position: [300 - 16, 320 - 120] });\n                const equipment3 = element.doc.querySelector(\n                    'ConductingEquipment[type=\"VTR\"]'\n                );\n                const eq3ClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment3))!\n                    .querySelector('circle')!;\n                eq3ClickTarget.dispatchEvent(new PointerEvent('click'));\n                await sendMouse({ type: 'click', position: [350 - 16, 320 - 120] });\n                expect(element.doc.querySelectorAll('Vertex')).to.have.property(\n                    'length',\n                    15\n                );\n                await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                    ignoreAttributes: ['esldoscd:uuid'],\n                });\n            });\n\n            describe('between more than two pieces of equipment', async () => {\n                beforeEach(async () => {\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({\n                        type: 'click',\n                        position: middleOf(queryUI({ scl: 'ConnectivityNode' })),\n                    });\n                    queryUI({ scl: '[type=\"BAT\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({\n                        type: 'click',\n                        position: middleOf(queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' })),\n                    });\n                });\n\n                it('disconnects equipment on rotation', async () => {\n                    expect(element.doc.querySelector('[type=\"CTR\"] > Terminal')).to.exist;\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    expect(element.doc.querySelector('[type=\"CTR\"] > Terminal')).to.not\n                        .exist;\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.property(\n                        'length',\n                        2\n                    );\n                    expect(element.doc.querySelector('[type=\"BAT\"] > Terminal')).to.exist;\n                    queryUI({ scl: '[type=\"BAT\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    expect(element.doc.querySelector('[type=\"BAT\"] > Terminal')).to.not\n                        .exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('disconnects terminals on detach menu item select', async () => {\n                    const equipment = element.doc.querySelector('[type=\"CTR\"]')!;\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('contextmenu')\n                    );\n                    await element.updateComplete;\n                    expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.exist;\n                    sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                        'mwc-list-item:nth-of-type(2)'\n                    )!.selected = true;\n                    await element.updateComplete;\n                    expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.not.exist;\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('contextmenu')\n                    );\n                    await sldSubstationEditor.updateComplete;\n                    expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.exist;\n                    sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                        'mwc-list-item:nth-of-type(4)'\n                    )!.selected = true;\n                    await element.updateComplete;\n                    expect(equipment.querySelector('Terminal[name=\"T2\"]')).to.not.exist;\n                });\n\n                it('simplifies horizontal connection paths when disconnecting', async () => {\n                    queryUI({ scl: '[type=\"VTR\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({ type: 'click', position: [300 - 16, 322 - 120] });\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(6);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(16);\n                    queryUI({ scl: '[type=\"CBR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    element.updateComplete;\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(4);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(13);\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('simplifies vertical connection paths when disconnecting', async () => {\n                    queryUI({ scl: '[type=\"NEW\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({ type: 'click', position: [600 - 16, 382 - 120] });\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(6);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(16);\n                    queryUI({ scl: '[type=\"NEW\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    await element.updateComplete;\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(4);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(11);\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('simplifies when disconnecting only where possible', async () => {\n                    queryUI({ scl: '[type=\"VTR\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({ type: 'click', position: [300 - 16, 326 - 125] });\n                    queryUI({ scl: '[type=\"NEW\"]', ui: 'circle' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    await sendMouse({ type: 'click', position: [300 - 16, 326 - 125] });\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(7);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(19);\n                    queryUI({ scl: '[type=\"NEW\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    expect(element.doc.querySelectorAll('Section')).to.have.lengthOf(6);\n                    expect(element.doc.querySelectorAll('Vertex')).to.have.lengthOf(16);\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('disconnects equipment upon being moved', async () => {\n                    queryUI({ scl: '[type=\"DIS\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('click')\n                    );\n                    expect(element.doc.querySelector('[type=\"DIS\"] > Terminal')).to.exist;\n                    await sendMouse({ type: 'click', position: [160 - 16, 258 - 125] });\n                    expect(element.doc.querySelector('[type=\"DIS\"] > Terminal')).to.not\n                        .exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('removes superfluous connectivity nodes when disconnecting', async () => {\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    queryUI({ scl: '[type=\"DIS\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('auxclick', { button: 1 })\n                    );\n                    expect(element.doc.querySelector('ConnectivityNode')).to.not.exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('removes contained connectivity nodes when moving containers', async () => {\n                    await sendMouse({ type: 'click', position: [150 - 16, 360 - 120] });\n                    await sendMouse({ type: 'click', position: [150 - 16, 330 - 120] });\n                    expect(\n                        element.doc.querySelectorAll('ConnectivityNode')\n                    ).to.have.lengthOf(1);\n                });\n\n                it('removes connected connectivity nodes when moving containers', async () => {\n                    queryUI({\n                        scl: '[name=\"V2\"]',\n                        ui: 'rect',\n                    }).dispatchEvent(new PointerEvent('click'));\n                    expect(\n                        element.doc.querySelectorAll('ConnectivityNode')\n                    ).to.have.lengthOf(2);\n                    await sendMouse({ type: 'click', position: [600 - 16, 330 - 120] });\n                    expect(\n                        element.doc.querySelectorAll('ConnectivityNode')\n                    ).to.have.lengthOf(1);\n                });\n\n                it('keeps internal connectivity nodes when moving containers', async () => {\n                    const position = middleOf(\n                        queryUI({\n                            scl: '[name=\"V2\"]',\n                            ui: '.handle',\n                        })\n                    );\n                    position[1] += 140;\n                    queryUI({\n                        scl: '[name=\"V2\"]',\n                        ui: 'rect',\n                    }).dispatchEvent(new PointerEvent('click'));\n                    const subSt = element.doc.createElement('Substation');\n                    subSt.setAttribute('name', 'S2');\n                    element.doc.documentElement.insertBefore(subSt, element.doc.querySelector('Substation'));\n                    setSLDAttributes(subSt, element.nsp, { w: '50', h: '25' });\n\n                    expect(\n                        element.doc.querySelectorAll('ConnectivityNode')\n                    ).to.have.lengthOf(2);\n                    await sendMouse({ position, type: 'click' });\n                    expect(\n                        element.doc.querySelectorAll('ConnectivityNode')\n                    ).to.have.lengthOf(1);\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('deletes conducting equipment on delete menu item select', async () => {\n                    const equipment = element.doc.querySelector('[type=\"CTR\"]')!;\n                    queryUI({ scl: '[type=\"CTR\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('contextmenu')\n                    );\n                    await element.updateComplete;\n                    expect(equipment.querySelector('Terminal[name=\"T1\"]')).to.exist;\n                    sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                        'mwc-list-item:nth-last-of-type(1)'\n                    )!.selected = true;\n                    await element.updateComplete;\n                    expect(equipment.parentElement).to.not.exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('deletes bays on delete menu item select', async () => {\n                    const bay = element.doc.querySelector('Bay')!;\n                    queryUI({ scl: 'Bay', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('contextmenu')\n                    );\n                    await element.updateComplete;\n                    expect(bay.querySelector('Terminal[name=\"T1\"]')).to.exist;\n                    sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                        'mwc-list-item:nth-last-of-type(1)'\n                    )!.selected = true;\n                    await element.updateComplete;\n                    expect(bay.parentElement).to.not.exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                it('deletes voltage levels on delete menu item select', async () => {\n                    const bay = element.doc.querySelector('[name=\"V2\"]')!;\n                    queryUI({ scl: '[name=\"V2\"]', ui: 'rect' }).dispatchEvent(\n                        new PointerEvent('contextmenu')\n                    );\n                    await element.updateComplete;\n                    expect(bay.querySelector('Terminal[name=\"T1\"]')).to.exist;\n                    sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                        'mwc-list-item:nth-last-of-type(1)'\n                    )!.selected = true;\n                    await element.updateComplete;\n                    expect(bay.parentElement).to.not.exist;\n                    await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                        ignoreAttributes: ['esldoscd:uuid'],\n                    });\n                });\n\n                describe('and a bus bar', () => {\n                    beforeEach(async () => {\n                        const busBar = makeBusBar(element.doc, element.nsp);\n                        element.startPlacing(busBar);\n\n                        await sendMouse({ type: 'click', position: [430 - 16, 202 - 120] });\n                        await sendMouse({ type: 'click', position: [430 - 16, 282 - 120] });\n                        await sendMouse({\n                            type: 'click',\n                            position: middleOf(queryUI({ scl: '[name=\"L\"]' })),\n                        });\n                        await sendMouse({ type: 'click', position: [450 - 16, 202 - 120] });\n                        queryUI({ scl: '[type=\"VTR\"]', ui: 'circle' }).dispatchEvent(\n                            new PointerEvent('click')\n                        );\n                        await sendMouse({\n                            type: 'click',\n                            position: middleOf(queryUI({ scl: '[name=\"L\"]' })),\n                        });\n                    });\n\n                    it('keeps the bus bar when moving containers', async () => {\n                        const position = middleOf(\n                            queryUI({\n                                scl: '[name=\"V2\"] > [name=\"B1\"]',\n                                ui: '.handle',\n                            })\n                        );\n                        expect(\n                            element.doc\n                                .querySelector('[name=\"L\"]')\n                                ?.querySelectorAll('Section')\n                        ).to.have.lengthOf(2);\n                        position[1] += 120;\n                        await sendMouse({ position, type: 'click' });\n                        await element.updateComplete;\n                        position[1] += 40;\n                        await sendMouse({ position, type: 'click' });\n                        await element.updateComplete;\n                        expect(\n                            element.doc\n                                .querySelector('[name=\"L\"]')\n                                ?.querySelectorAll('Section')\n                        ).to.have.lengthOf(1);\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('does not merge bus bar sections with feeder sections', async () => {\n                        const busBar = element.doc.querySelector('Bay[name=\"BB1\"]');\n                        const busSection = busSections(busBar!)[0];\n\n                        queryUI({\n                            scl: '[type=\"NEW\"]',\n                            ui: 'circle:nth-of-type(2)',\n                        }).dispatchEvent(new PointerEvent('click'));\n                        await sendMouse({ type: 'click', position: [450 - 16, 292 - 120] });\n                        queryUI({ scl: '[type=\"CBR\"]', ui: 'circle' }).dispatchEvent(\n                            new PointerEvent('click')\n                        );\n                        await sendMouse({ type: 'click', position: [420 - 16, 292 - 120] });\n                        expect(busSection.querySelectorAll('Vertex')).to.have.lengthOf(2);\n                        queryUI({ scl: '[type=\"CBR\"]', ui: 'rect' }).dispatchEvent(\n                            new PointerEvent('auxclick', { button: 1 })\n                        );\n                        expect(busSection.querySelectorAll('Vertex')).to.have.lengthOf(2);\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('resizes the bus bar on resize menu item select', async () => {\n                        const bus = element.doc.querySelector('[name=\"BB1\"]');\n                        const currentX = parseInt(sldAttribute(bus!, 'x')!, 10);\n                        const currentY = parseInt(sldAttribute(bus!, 'y')!, 10);\n\n                        // Move mouse to bus bar position to establish offset\n                        await sendMouse({\n                            type: 'move',\n                            position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n                        });\n                        await element.updateComplete;\n\n                        queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        }).dispatchEvent(new PointerEvent('contextmenu'));\n                        await element.updateComplete;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-of-type(2)'\n                        )!.selected = true;\n                        expect(sldAttribute(bus!, 'h')).equal('1');\n                        await sendMouse({ type: 'click', position: [380 - 16, 330 - 120] });\n                        expect(sldAttribute(bus!, 'h')).equal('2');\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('copies equipment on copy menu item select', async () => {\n                        const equipmentRect = queryUI({\n                            scl: 'ConductingEquipment',\n                            ui: 'rect',\n                        });\n\n                        // Move mouse to equipment position [4,4] using equipment formula: screenY = (gridY - 1) * 32 + 228\n                        await sendMouse({ type: 'move', position: [160 - 16, 324 - 120] });\n                        await element.updateComplete;\n\n                        equipmentRect.dispatchEvent(\n                            new PointerEvent('contextmenu', {\n                                bubbles: true,\n                                composed: true,\n                            })\n                        );\n                        await element.updateComplete;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-last-of-type(6)'\n                        )!.selected = true;\n                        expect(\n                            element.doc.querySelector(\n                                'ConductingEquipment SLDAttributes[*|x=\"3\"][*|y=\"3\"]'\n                            )\n                        ).to.not.exist;\n                        expect(\n                            sldAttribute(\n                                element.doc.querySelector('ConductingEquipment')!,\n                                'x'\n                            )\n                        ).to.equal('4');\n                        expect(\n                            sldAttribute(\n                                element.doc.querySelector('ConductingEquipment')!,\n                                'y'\n                            )\n                        ).to.equal('4');\n                        // Click to place copy at [3,3] using equipment formula: screenY = (3-1)*32 + 228 = 292\n                        await sendMouse({ type: 'click', position: [128 - 16, 292 - 120] });\n                        expect(\n                            element.doc.querySelector(\n                                'ConductingEquipment SLDAttributes[*|x=\"3\"][*|y=\"3\"]'\n                            )\n                        ).to.exist;\n                        expect(\n                            element.doc.querySelector(\n                                'ConductingEquipment SLDAttributes[*|x=\"4\"][*|y=\"4\"]'\n                            )\n                        ).to.exist;\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('moves the bus bar on move menu item select', async () => {\n                        const busLine = queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        });\n                        const bus = element.doc.querySelector('[name=\"BB1\"]');\n                        const initialY = sldAttribute(bus!, 'y')!;\n                        const initialX = sldAttribute(bus!, 'x')!;\n\n                        // Move mouse to bus bar position at current x,y\n                        // Using equipment formula: screenX = (gridX - 1) * 32 + 64, screenY = (gridY - 1) * 32 + 228\n                        const currentY = parseInt(initialY, 10);\n                        const currentX = parseInt(initialX, 10);\n                        await sendMouse({\n                            type: 'move',\n                            position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 120],\n                        });\n                        await element.updateComplete;\n\n                        busLine.dispatchEvent(\n                            new PointerEvent('contextmenu', {\n                                bubbles: true,\n                                composed: true,\n                            })\n                        );\n                        await element.updateComplete;\n\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-of-type(3)'\n                        )!.selected = true;\n                        await sldSubstationEditor.updateComplete;\n\n                        expect(sldAttribute(bus!, 'y')).to.equal(initialY);\n                        // Click to place at y=4: screenY = (4-1)*32 + 228 = 324\n                        await sendMouse({ type: 'click', position: [64 - 16, 324 - 120] });\n                        expect(sldAttribute(bus!, 'y')).to.equal('4');\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('moves the bus bar label on \"move label\" menu item select', async () => {\n                        queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        }).dispatchEvent(new PointerEvent('contextmenu'));\n                        await element.updateComplete;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-last-of-type(4)'\n                        )!.selected = true;\n                        await sldSubstationEditor.updateComplete;\n                        expect(element)\n                            .property('placingLabel')\n                            .to.have.attribute('name', 'BB1');\n                        await sendMouse({ type: 'click', position: [200 - 16, 308 - 125] });\n                        const busBar = element.doc.querySelector('[name=\"BB1\"]');\n                        expect(sldAttribute(busBar!, 'lx')).to.equal('5');\n                        expect(sldAttribute(busBar!, 'ly')).to.equal('4.5');\n                    });\n\n                    it('requests bus bar edit wizard on edit menu item select', async () => {\n                        queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        }).dispatchEvent(new PointerEvent('contextmenu'));\n                        await element.updateComplete;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-last-of-type(2)'\n                        )!.selected = true;\n                        await sldSubstationEditor.updateComplete;\n                        expect(lastCalledWizard).to.equal(\n                            element.doc.querySelector('[name=\"BB1\"]')\n                        );\n                    });\n\n                    it('deletes the bus bar on delete menu item select', async () => {\n                        queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        }).dispatchEvent(new PointerEvent('contextmenu'));\n                        await element.updateComplete;\n                        expect(element.doc.querySelector('[name=\"BB1\"]')).to.exist;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-last-of-type(1)'\n                        )!.selected = true;\n                        await sldSubstationEditor.updateComplete;\n                        expect(element.doc.querySelector('[name=\"BB1\"]')).to.not.exist;\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('copies bays on copy menu item select', async () => {\n                        const bayRect = queryUI({\n                            scl: '[name=\"V2\"] [name=\"B1\"]',\n                            ui: 'rect',\n                        });\n\n                        // Move mouse to bay position first to establish offset for equipment context\n                        // V2 bay is at [16,2], so use equipment formula: screenX = (16-1)*32 + 64 = 544, screenY = (2-1)*32 + 228 = 260\n                        await sendMouse({ type: 'move', position: [544 - 16, 260 - 120] });\n                        await element.updateComplete;\n\n                        bayRect.dispatchEvent(\n                            new PointerEvent('contextmenu', {\n                                bubbles: true,\n                                composed: true,\n                            })\n                        );\n                        await element.updateComplete;\n                        sldSubstationEditor.shadowRoot!.querySelector<ListItem>(\n                            'mwc-list-item:nth-last-of-type(6)'\n                        )!.selected = true;\n                        expect(element.doc.querySelector('[name=\"V1\"] [name=\"B2\"]')).not.to\n                            .exist;\n                        // Place in V1 voltage level - target around [5,8] using equipment formula\n                        await sendMouse({ type: 'click', position: [192 - 16, 452 - 120] });\n                        expect(element.doc.querySelector('[name=\"V1\"] [name=\"B2\"]')).to\n                            .exist;\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('copies voltage levels on move handle shift click', async () => {\n                        queryUI({\n                            scl: '[name=\"V1\"]',\n                            ui: 'rect',\n                        }).dispatchEvent(new PointerEvent('click', { shiftKey: true }));\n                        expect(element.doc.querySelector('[name=\"V1\"] [name=\"B2\"]')).not.to\n                            .exist;\n\n                        const subSt = element.doc.createElement('Substation');\n                        subSt.setAttribute('name', 'S2');\n                        element.doc.documentElement.insertBefore(subSt, element.doc.querySelector('Substation'));\n                        setSLDAttributes(subSt, element.nsp, { w: '50', h: '25' });\n\n                        await sendMouse({ type: 'click', position: [640 - 16, 480 - 120] });\n                        expect(element.doc.querySelector('[name=\"S2\"] [name=\"V1\"]')).to\n                            .exist;\n                        await expect(element.doc.documentElement).dom.to.equalSnapshot({\n                            ignoreAttributes: ['esldoscd:uuid'],\n                        });\n                    });\n\n                    it('opens a menu on bus bar right click', async () => {\n                        queryUI({\n                            scl: '[name=\"L\"]',\n                            ui: 'line:not([stroke])',\n                        }).dispatchEvent(new PointerEvent('contextmenu'));\n                        await element.updateComplete;\n                        expect(queryUI({ ui: 'menu' })).to.exist;\n                    });\n                });\n            });\n        });\n    });\n\n    describe('when disabled', () => {\n        beforeEach(async () => {\n            element.disabled = true;\n            await element.updateComplete;\n        });\n\n        describe('given a substation', () => {\n            let sldSubstationEditor: SldSubstationEditor;\n            beforeEach(async () => {\n                const subSt = element.doc.createElement('Substation');\n                subSt.setAttribute('name', 'S1');\n                setSLDAttributes(subSt, element.nsp, { w: '51', h: '26' });\n                element.doc.documentElement.appendChild(subSt);\n                element.requestUpdate();\n                await element.updateComplete;\n\n                sldSubstationEditor = getSldSubstationEditor(element)!;\n                await sldSubstationEditor.updateComplete;\n            });\n\n            it('disables substation buttons', async () => {\n                const h2 = sldSubstationEditor.shadowRoot?.querySelector('h2');\n                await expect(h2).dom.to.equalSnapshot();\n            });\n\n            it('does not add voltage level', async () => {\n                const newVoltLevel = element.doc.createElement('VoltageLevel');\n                newVoltLevel.setAttribute('name', 'NewVoltLevel');\n                element.startPlacing(newVoltLevel);\n\n                expect(element).to.have.property('placing', undefined);\n            });\n        });\n\n        describe('given a voltage level', () => {\n            let sldSubstationEditor: SldSubstationEditor;\n            beforeEach(async () => {\n                const doc = new DOMParser().parseFromString(\n                    voltageLevelDocString,\n                    'application/xml'\n                );\n                element.doc = doc;\n                await element.updateComplete;\n                sldSubstationEditor = getSldSubstationEditor(element)!;\n                await sldSubstationEditor.updateComplete;\n            });\n\n            it('does not render resize handlers', async () => {\n                const moveHandle =\n                    sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>('.handle')[1];\n                expect(moveHandle).to.be.undefined;\n            });\n\n            it('does not allow to move voltage level', async () => {\n                // Click on voltage level to start placing/moving\n                await sendMouse({ type: 'click', position: [100 - 16, 180 - 76] });\n\n                expect(element).to.have.property('placing', undefined);\n            });\n\n            it('disabled context menu', async () => {\n                queryUI({\n                    scl: 'VoltageLevel',\n                    ui: 'rect',\n                }).dispatchEvent(new PointerEvent('contextmenu'));\n                await element.updateComplete;\n                expect(queryUI({ ui: 'menu' })).to.not.exist;\n            });\n\n            it('does not allow to move label', async () => {\n                // Click on label to start placing/moving it\n                queryUI({ ui: '.label text' }).dispatchEvent(new PointerEvent('click'));\n\n                expect(element).to.have.property('placing', undefined);\n            });\n\n            it('does not trigger auxclick', async () => {\n                queryUI({ ui: '.label text' }).dispatchEvent(\n                    new PointerEvent('auxclick', { button: 1 })\n                );\n                expect(lastCalledWizard).to.be.undefined\n            });\n\n            it('does not allow placing a new bay', async () => {\n                const newBay = element.doc.createElement('Bay');\n                newBay.setAttribute('name', 'NewBay');\n                element.startPlacing(newBay);\n\n                expect(element).to.have.property('placing', undefined);\n            });\n\n            it('allows placing a new bus bar', async () => {\n                const busBar = makeBusBar(element.doc, element.nsp);\n                element.startPlacing(busBar);\n\n                expect(element).to.have.property('placing', undefined)\n            });\n        });\n\n        describe('given a bay', () => {\n            let sldSubstationEditor: SldSubstationEditor;\n            beforeEach(async () => {\n                const doc = new DOMParser().parseFromString(\n                    bayDocString,\n                    'application/xml'\n                );\n                element.doc = doc;\n                await element.updateComplete;\n                sldSubstationEditor = getSldSubstationEditor(element)!;\n                await sldSubstationEditor.updateComplete;\n            });\n\n            it('does not render resize handlers', async () => {\n                const moveHandle =\n                    sldSubstationEditor.shadowRoot!.querySelectorAll<SVGElement>('g.bay .handle')[1];\n\n                expect(moveHandle).to.be.undefined;\n            });\n\n            it('disables auxclick', async () => {\n                queryUI({\n                    scl: 'Bay',\n                    ui: 'rect',\n                }).dispatchEvent(new PointerEvent('contextmenu'));\n                await element.updateComplete;\n                expect(queryUI({ ui: 'menu' })).to.not.exist;\n            });\n\n            it('does not allow to move bays', async () => {\n                const bayElement = element.doc.querySelector('Bay')!;\n                const currentX = parseInt(sldAttribute(bayElement, 'x')!, 10);\n                const currentY = parseInt(sldAttribute(bayElement, 'y')!, 10);\n\n                // Move mouse to bay position to establish offset\n                await sendMouse({\n                    type: 'move',\n                    position: [(currentX - 1) * 32 + 64 - 16, (currentY - 1) * 32 + 228 - 76],\n                });\n                await element.updateComplete;\n\n                expect(element).to.have.property('placing', undefined);\n            });\n\n            it('does not allow to place conducting equipment', async () => {\n                const condEq = element.doc.createElement('ConductingEquipment');\n                condEq.setAttribute('type', 'GEN');\n                condEq.setAttribute('name', 'GEN1');\n                element.startPlacing(condEq);\n\n                expect(element).to.have.property('placing', undefined);\n            });\n        });\n\n        describe('given conducting equipment', () => {\n            let sldSubstationEditor: SldSubstationEditor;\n            beforeEach(async () => {\n                const doc = new DOMParser().parseFromString(\n                    equipmentDocString,\n                    'application/xml'\n                );\n                element.doc = doc;\n                await element.updateComplete;\n                sldSubstationEditor = getSldSubstationEditor(element)!;\n                await sldSubstationEditor.updateComplete;\n            });\n\n            it('disables contextmenu', async () => {\n                queryUI({\n                    scl: '[type=\"SMC\"]',\n                    ui: 'rect',\n                }).dispatchEvent(new PointerEvent('contextmenu'));\n                await element.updateComplete;\n                expect(queryUI({ ui: 'menu' })).to.not.exist;\n            });\n\n            it('does not allow to move conducting equipment', async () => {\n                // Click on equipment to start placing/moving\n                await sendMouse({ type: 'click', position: [150 - 16, 230 - 76] });\n                expect(element).to.have.property('placing', undefined);\n            });\n\n            it('does not rotate on auxclick', () => {\n                const equipment = element.doc.querySelector('ConductingEquipment');\n                const id = identity(equipment);\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>id)!\n                    .querySelector('rect')!;\n                expect(sldAttribute(equipment!, 'rot')).to.equal('1');\n                eqClickTarget.dispatchEvent(new PointerEvent('auxclick', { button: 1 }));\n                expect(sldAttribute(equipment!, 'rot')).to.equal('1');\n            });\n\n            it('does not opens a menu on equipment right click', async () => {\n                queryUI({ scl: 'ConductingEquipment', ui: 'rect' }).dispatchEvent(\n                    new PointerEvent('contextmenu', { clientX: 750, clientY: 550 })\n                );\n                await element.updateComplete;\n                expect(queryUI({ ui: 'menu' })).to.not.exist;\n            });\n\n            it('does not render connector', async () => {\n                const equipment = element.doc.querySelector('ConductingEquipment')!;\n                const eqClickTarget = sldSubstationEditor\n                    .shadowRoot!.getElementById(<string>identity(equipment))!\n                    .querySelector('circle')!;\n                expect(eqClickTarget).to.not.exist;\n            });\n        });\n    })\n});"]}