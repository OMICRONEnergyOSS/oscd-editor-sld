{"version":3,"file":"oscd-editor-sld.spec.js","sourceRoot":"","sources":["../oscd-editor-sld.spec.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport { html } from 'lit';\nimport { fixture, expect, aTimeout } from '@open-wc/testing';\n\nimport type { Button } from '@material/mwc-button';\n\nimport { IconButton } from '@material/mwc-icon-button';\nimport { resetMouse, sendMouse } from '@web/test-runner-commands';\nimport { XMLEditor } from '@omicronenergy/oscd-editor';\nimport { EditEventV2 } from '@openscd/oscd-api';\nimport OscdEditorSld from './oscd-editor-sld.js';\nimport { SldSubstationEditor } from './sld-substation-editor.js';\nimport { SldEditor } from './sld-editor.js';\n\nfunction sldAttribute(element: Element, attr: string): string | null {\n  const nsp = 'https://openscd.org/SCL/SSD/SLD/v0';\n  return (\n    element\n      .querySelector(\n        ':scope > Private[type=\"OpenSCD-SLD-Layout\"] > SLDAttributes'\n      )\n      ?.getAttributeNS(nsp, attr) ?? null\n  );\n}\n\ncustomElements.define('oscd-editor-sld', OscdEditorSld);\n\nexport const emptyDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL version=\"2007\" revision=\"B\" xmlns=\"http://www.iec.ch/61850/2003/SCL\">\n</SCL>`;\n\nexport const voltageLevelDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns:smth=\"https://openscd.org/SCL/SSD/SLD/v0\" xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <smth:SLDAttributes smth:w=\"50\" smth:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\" desc=\"some description\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <smth:SLDAttributes smth:x=\"1\" smth:y=\"1\" smth:lx=\"1\" smth:ly=\"1\" smth:w=\"48\" smth:h=\"23\"/>\n      </Private>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nexport const bayDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\" xmlns:eosld=\"https://openscd.org/SCL/SSD/SLD/v0\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <eosld:SLDAttributes eosld:w=\"50\" eosld:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <eosld:SLDAttributes eosld:x=\"1\" eosld:y=\"1\" eosld:w=\"13\" eosld:h=\"13\" eosld:lx=\"1\" eosld:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <eosld:SLDAttributes eosld:x=\"2\" eosld:y=\"2\" eosld:w=\"3\" eosld:h=\"3\" eosld:lx=\"2\" eosld:ly=\"2\"/>\n        </Private>\n        <ConnectivityNode name=\"L1\" pathName=\"S1/V1/B1/L1\" />\n      </Bay>\n    </VoltageLevel>\n    <VoltageLevel name=\"V2\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <eosld:SLDAttributes eosld:x=\"15\" eosld:y=\"1\" eosld:w=\"13\" eosld:h=\"13\" eosld:lx=\"15\" eosld:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <eosld:SLDAttributes eosld:x=\"20\" eosld:y=\"11\" eosld:w=\"1\" eosld:h=\"1\" eosld:lx=\"20\" eosld:ly=\"11\"/>\n        </Private>\n      </Bay>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nexport const equipmentDocString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SCL xmlns=\"http://www.iec.ch/61850/2003/SCL\" version=\"2007\" revision=\"B\" xmlns:eosld=\"https://openscd.org/SCL/SSD/SLD/v0\">\n  <Substation name=\"S1\">\n    <Private type=\"OpenSCD-SLD-Layout\">\n      <eosld:SLDAttributes eosld:w=\"50\" eosld:h=\"25\"/>\n    </Private>\n    <VoltageLevel name=\"V1\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <eosld:SLDAttributes eosld:x=\"1\" eosld:y=\"1\" eosld:w=\"13\" eosld:h=\"13\" eosld:lx=\"1\" eosld:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <eosld:SLDAttributes eosld:x=\"2\" eosld:y=\"2\" eosld:w=\"6\" eosld:h=\"6\" eosld:lx=\"2\" eosld:ly=\"2\"/>\n        </Private>\n        <ConductingEquipment type=\"CBR\" name=\"CBR1\" desc=\"CBR description\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"4\" eosld:y=\"4\" eosld:rot=\"1\" eosld:lx=\"3.5\" eosld:ly=\"4\"/>\n          </Private>\n        </ConductingEquipment>\n      </Bay>\n    </VoltageLevel>\n    <VoltageLevel name=\"V2\">\n      <Private type=\"OpenSCD-SLD-Layout\">\n        <eosld:SLDAttributes eosld:x=\"15\" eosld:y=\"1\" eosld:w=\"23\" eosld:h=\"23\" eosld:lx=\"15\" eosld:ly=\"1\"/>\n      </Private>\n      <Bay name=\"B1\">\n        <Private type=\"OpenSCD-SLD-Layout\">\n          <eosld:SLDAttributes eosld:x=\"16\" eosld:y=\"2\" eosld:w=\"6\" eosld:h=\"6\" eosld:lx=\"16\" eosld:ly=\"2\"/>\n        </Private>\n        <ConductingEquipment type=\"CTR\" name=\"CTR1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"17\" eosld:y=\"5\" eosld:rot=\"3\" eosld:lx=\"17\" eosld:ly=\"7.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"DIS\" name=\"DIS1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"18\" eosld:y=\"4\" eosld:rot=\"1\" eosld:lx=\"17\" eosld:ly=\"4.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"NEW\" name=\"NEW1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"19\" eosld:y=\"3\" eosld:rot=\"2\" eosld:lx=\"20\" eosld:ly=\"3.5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"VTR\" name=\"VTR1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"17\" eosld:y=\"3\" eosld:rot=\"3\" eosld:lx=\"17\" eosld:ly=\"3\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"DIS\" name=\"DIS2\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"20\" eosld:y=\"4\" eosld:rot=\"0\" eosld:lx=\"21\" eosld:ly=\"5\"/>\n          </Private>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"BAT\" name=\"BAT1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"19\" eosld:y=\"7\" eosld:rot=\"3\" eosld:lx=\"19\" eosld:ly=\"7\"/>\n          </Private>\n          <Terminal name=\"erroneous\"/>\n        </ConductingEquipment>\n        <ConductingEquipment type=\"SMC\" name=\"SMC1\">\n          <Private type=\"OpenSCD-SLD-Layout\">\n            <eosld:SLDAttributes eosld:x=\"21\" eosld:y=\"7\" eosld:rot=\"3\" eosld:lx=\"22\" eosld:ly=\"8\" />\n          </Private>\n        </ConductingEquipment>\n      </Bay>\n    </VoltageLevel>\n  </Substation>\n</SCL>\n`;\n\nfunction getSldSubstationEditor(element: OscdEditorSld): SldSubstationEditor | null | undefined {\n  return element.shadowRoot?.querySelector<SldSubstationEditor>('sld-editor')?.shadowRoot?.querySelector('sld-substation-editor');\n}\n\nfunction getSldEditor(element: OscdEditorSld): SldEditor | null | undefined {\n  return element.shadowRoot?.querySelector<SldEditor>('sld-editor');\n}\n\ndescribe('SLD Editor', () => {\n  let element: OscdEditorSld;\n  let xmlEditor: XMLEditor;\n\n  beforeEach(async () => {\n    const doc = new DOMParser().parseFromString(\n      emptyDocString,\n      'application/xml'\n    );\n    // Use the actual editor here so that tests depending on a sequence of changes, still makes sense.\n    xmlEditor = new XMLEditor();\n    element = await fixture(\n      html`<oscd-editor-sld\n        docName=\"testDoc\"\n        .doc=${doc}\n        @oscd-edit-v2=${(event: EditEventV2) => {\n          xmlEditor.commit(event.detail.edit);\n          element.docVersion += 1;\n        }}\n      ></oscd-editor-sld>`\n    );\n  });\n\n  afterEach(async () => {\n    await sendMouse({ type: 'click', position: [0, 0] });\n    await resetMouse();\n  });\n\n  it('shows a placeholder message while no document is loaded', async () => {\n    element = await fixture(html`<oscd-editor-sld></oscd-editor-sld>`);\n    expect(element.shadowRoot?.querySelector('p')).to.contain.text('SCL');\n  });\n\n  it('adds the SLD XML namespace if doc lacks it', async () => {\n    expect(element.doc.documentElement).to.have.attribute('xmlns:eosld');\n  });\n\n  it('adds a substation on add button click', async () => {\n    expect(element.doc.querySelector('Substation')).to.not.exist;\n    element\n      .shadowRoot!.querySelector<Button>('[label=\"Add Substation\"]')\n      ?.click();\n    expect(element.doc.querySelector('Substation')).to.exist;\n  });\n\n  it('gives new substations unique names', async () => {\n    element\n      .shadowRoot!.querySelector<Button>('[label=\"Add Substation\"]')\n      ?.click();\n    element\n      .shadowRoot!.querySelector<Button>('[label=\"Add Substation\"]')\n      ?.click();\n    const [name1, name2] = Array.from(\n      element.doc.querySelectorAll('Substation')\n    ).map(substation => substation.getAttribute('name'));\n    expect(name1).not.to.equal(name2);\n  });\n\n  it('does not zoom out past a positive minimum value', async () => {\n    for (let i = 0; i < 20; i += 1)\n      element\n        .shadowRoot!.querySelector<IconButton>('[icon=\"zoom_out\"]')\n        ?.click();\n    expect(element.gridSize).to.be.greaterThan(0);\n  });\n\n  describe('given a substation', () => {\n    let sldSubstationEditor: SldSubstationEditor;\n    let sldEditor: SldEditor;\n    beforeEach(async () => {\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add Substation\"]')\n        ?.click();\n      await element.updateComplete;\n      sldEditor = getSldEditor(element)!;\n      await sldEditor.updateComplete;\n      sldSubstationEditor = getSldSubstationEditor(element)!;\n      await sldSubstationEditor.updateComplete;\n    });\n\n    it('zooms in on zoom in button click', async () => {\n      const initial = element.gridSize;\n      element\n        .shadowRoot!.querySelector<IconButton>('[icon=\"zoom_in\"]')\n        ?.click();\n      expect(element.gridSize).to.be.greaterThan(initial);\n    });\n\n    it('zooms out on zoom out button click', async () => {\n      const initial = element.gridSize;\n      element\n        .shadowRoot!.querySelector<IconButton>('[icon=\"zoom_out\"]')\n        ?.click();\n      expect(element.gridSize).to.be.lessThan(initial);\n    });\n\n    it('allows placing a new voltage level', async () => {\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add VoltageLevel\"]')\n        ?.click();\n      expect(sldEditor)\n        .property('placing')\n        .to.have.property('tagName', 'VoltageLevel');\n      await sendMouse({ type: 'click', position: [200, 252] });\n      expect(sldEditor).to.have.property('placing', undefined);\n      expect(sldEditor)\n        .property('resizingBR')\n        .to.have.property('tagName', 'VoltageLevel');\n      await sendMouse({ type: 'click', position: [400, 452] });\n      await aTimeout(10); // Wait for quick machines\n      expect(sldEditor).to.have.property('resizingBR', undefined);\n      const voltLv = element.doc.querySelector('VoltageLevel')!;\n      expect(sldAttribute(voltLv, 'x')).to.equal('5');\n      expect(sldAttribute(voltLv, 'y')).to.equal('3');\n      expect(sldAttribute(voltLv, 'w')).to.equal('7');\n      expect(sldAttribute(voltLv, 'h')).to.equal('8');\n    });\n\n    it('gives new voltage levels unique names', async () => {\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add VoltageLevel\"]')\n        ?.click();\n      await sendMouse({ type: 'click', position: [200, 252] });\n      await sendMouse({ type: 'click', position: [300, 352] });\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add VoltageLevel\"]')\n        ?.click();\n      await sendMouse({ type: 'click', position: [350, 402] });\n      await sendMouse({ type: 'click', position: [450, 502] });\n      const [name1, name2] = Array.from(\n        element.doc.querySelectorAll('VoltageLevel')\n      ).map(substation => substation.getAttribute('name'));\n      expect(name1).not.to.equal(name2);\n      expect(name1).to.exist;\n      expect(name2).to.exist;\n    });\n\n    it('allows the user to abort placing an element', async () => {\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add VoltageLevel\"]')\n        ?.click();\n      expect(sldEditor)\n        .property('placing')\n        .to.have.property('tagName', 'VoltageLevel');\n      const event = new KeyboardEvent('keydown', { key: 'Escape' });\n      window.dispatchEvent(event);\n      expect(sldEditor).to.have.property('placing', undefined);\n    });\n  });\n\n  describe('given a voltage level', () => {\n    let sldSubstationEditor: SldSubstationEditor;\n    let sldEditor: SldEditor;\n    beforeEach(async () => {\n      const doc = new DOMParser().parseFromString(\n        voltageLevelDocString,\n        'application/xml'\n      );\n      element.doc = doc;\n      await element.updateComplete;\n      sldEditor = getSldEditor(element)!;\n      await sldEditor.updateComplete;\n      sldSubstationEditor = getSldSubstationEditor(element)!;\n      await sldSubstationEditor.updateComplete;\n    });\n\n    it('allows placing a new bay', async () => {\n      element.shadowRoot!.querySelector<Button>('[label=\"Add Bay\"]')?.click();\n      expect(sldEditor).property('placing').to.have.property('tagName', 'Bay');\n      await sendMouse({ type: 'click', position: [200, 252] });\n      expect(sldEditor).to.have.property('placing', undefined);\n      expect(sldEditor).property('resizingBR').to.have.property('tagName', 'Bay');\n      await sendMouse({ type: 'click', position: [400, 500] });\n      expect(sldSubstationEditor).to.have.property('resizingBR', undefined);\n      const bay = sldEditor.doc.querySelector('Bay')!;\n      expect(bay).to.exist;\n      expect(sldAttribute(bay, 'x')).to.equal('5');\n      expect(sldAttribute(bay, 'y')).to.equal('3');\n      expect(sldAttribute(bay, 'w')).to.equal('7');\n      expect(sldAttribute(bay, 'h')).to.equal('8');\n    });\n\n    it('allows placing a new bus bar', async () => {\n      element\n        .shadowRoot!.querySelector<Button>('[label=\"Add Bus Bar\"]')\n        ?.click();\n      expect(sldEditor).property('placing').to.have.property('tagName', 'Bay');\n      await sendMouse({ type: 'click', position: [200, 252] });\n      expect(sldEditor).to.have.property('placing', undefined);\n      expect(sldEditor).property('resizingBR').to.have.property('tagName', 'Bay');\n      await sendMouse({ type: 'click', position: [400, 452] });\n      expect(sldSubstationEditor).to.have.property('resizingBR', undefined);\n      const bus = sldEditor.doc.querySelector('Bay');\n      expect(bus).to.exist;\n      expect(sldAttribute(bus!, 'x')).to.equal('5');\n      expect(sldAttribute(bus!, 'y')).to.equal('3');\n      expect(sldAttribute(bus!, 'w')).to.equal('1');\n      expect(sldAttribute(bus!, 'h')).to.equal('8');\n      await expect(bus).dom.to.equalSnapshot({\n        ignoreAttributes: ['eosld:uuid'],\n      });\n    });\n  });\n\n  describe('given a bay', () => {\n    let sldSubstationEditor: SldSubstationEditor;\n    let sldEditor: SldEditor;\n    beforeEach(async () => {\n      const doc = new DOMParser().parseFromString(\n        bayDocString,\n        'application/xml'\n      );\n      element.doc = doc;\n      await element.updateComplete;\n      sldEditor = getSldEditor(element)!;\n      await sldEditor.updateComplete;\n      sldSubstationEditor = getSldSubstationEditor(element)!;\n      await sldSubstationEditor.updateComplete;\n    });\n\n    it('allows placing new conducting equipment', async () => {\n      element.shadowRoot!.querySelector<Button>('[label=\"Add GEN\"]')?.click();\n      expect(sldEditor)\n        .property('placing')\n        .to.have.property('tagName', 'ConductingEquipment');\n      await sendMouse({ type: 'click', position: [160, 324] });\n      expect(sldEditor).to.have.property('placing', undefined);\n      expect(sldEditor).to.have.property('resizingBR', undefined);\n      const equipment = element.doc.querySelector('ConductingEquipment');\n      expect(equipment).to.exist;\n      expect(sldAttribute(equipment!, 'x')).to.equal('4');\n      expect(sldAttribute(equipment!, 'y')).to.equal('4');\n    });\n  });\n});"]}